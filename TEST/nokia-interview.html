<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var data = [
        { value: "1", children: [{ value: "3" }, { value: "4" }] },
        { value: "2", children: [{ value: "5" }] },
        { value: "3", children: [{ value: "6" }] },
        { value: "4", children: [{ value: "7" }] },
        { value: "5", children: [{ value: "7" }] },
        { value: "6", children: [{ value: "8" }, { value: "9" }] },
        { value: "7", children: [{ value: "9" }] },
        { value: "8" },
        { value: "9", children: [{ value: "10" }] },
        { value: "10" },
      ];
      // 函数输出示范：
      const getTreeData = (data) => {
        const complex = data.filter((item) => item.children);
        const simple = data.filter((item) => !item.children);

        const getResultsItem = (simpleItem) => {
          const results = [];
          const childrenValue = complex.filter((item) =>
            item.children.includes(simpleItem)
          );
          if (!childrenValue) {
            return []
          } else {
            results.push(childrenValue)
          }
          return results
        };

        for (let i = 0, len = simple.length; i < len; i++) {
          getResultsItem(simple[i]);
        }
      };
      const treeData = getTreeData(data);
      console.log(`treeData`, treeData);
      // treeData为：
      //   [
      //     [
      //       { value: "8" },
      //       { value: "6", children: [{ value: "8" }, { value: "9" }] },
      //       { value: "3", children: [{ value: "6" }] },
      //       { value: "1", children: [{ value: "3" }, { value: "4" }] },
      //     ],
      //     [
      //       { value: "10" },
      //       { value: "9", children: [{ value: "10" }] },
      //       { value: "7", children: [{ value: "9" }] },
      //       { value: "5", children: [{ value: "7" }] },
      //       { value: "2", children: [{ value: "5" }] },
      //     ],
      //     [
      //       { value: "10" },
      //       { value: "9", children: [{ value: "10" }] },
      //       { value: "7", children: [{ value: "9" }] },
      //       { value: "4", children: [{ value: "7" }] },
      //       { value: "1", children: [{ value: "3" }, { value: "4" }] },
      //     ],
      //     [
      //       { value: "10" },
      //       { value: "9", children: [{ value: "10" }] },
      //       { value: "6", children: [{ value: "8" }, { value: "9" }] },
      //       { value: "3", children: [{ value: "6" }] },
      //       { value: "1", children: [{ value: "3" }, { value: "4" }] },
      //     ],
      //   ];
    </script>
  </body>
</html>
