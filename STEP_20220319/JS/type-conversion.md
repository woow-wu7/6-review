# 数据类型转换

## (一) 强制转换

- Number
- String
- Boolean

### 前置知识

- 对象
  - valueOf() ------------ 返回 对象本身
  - toString() ----------- 返回 对象的类型字符串 '[object Object]'
- 数组
  - valueOf() ------------ 返回 数组本身
  - toString() ----------- 返回 返回数组的字符串形式 [1,2,[3,4]].toString() -> '1,2,3,4'

### (1) Number

- Number() 可以将任意类型转换成 ( 数值 )
- 最终结果
  - Number() 只有两种结果，要么是数值，要么是 NaN
  - number
  - NaN
- 参数
  - 原始类型的值
  - 引用类型的值
- 注意点
  - Number 会自动过滤字符串 ( 最前面和最后面 ) 的 ( 空格 )
- 快速记忆
  - **Number() -> 先 valueOf() -> 后 toString()**
  - 详细
    - 调用对象的 valueOf 方法
      - 如果返回 原始类型 的值，则直接调用 Number 函数，不在进行后续操作
      - 如果返回 引用类型 的值，则继续往下
        - 调用对象的 toString 方法
          - 如果返回 原始类型 的值，则直接调用 Number 函数
          - 如果返回 引用类型 的值，则报错

```
1
Number() 参数是 - 原始数据类型
---

Number(null) ---------------- 0
Number(undefined) ----------- NaN

Number('') ------------------ 0

Number(true) ---------------- 1
Number(false) --------------- 1

Number('123abc') ------------ NaN
ParseIn('123abc) ------------ 123
```

```
2
Number() 参数是 - 引用数据类型
---

Number({})
- 1. {}.valueOf -----------------------> 返回对象本身 -------------- {}
- 2. {}.toString ----------------------> 返回对象的类型字符串 ------- '[object, Object]'
- 3. Number('[object, Object]') -------> NaN

Number([])
- 1. [].valueOf -----------------------> 返数组本身 -------------- []
- 2. [].toString ----------------------> 返回数组的字符串形式 ------ ''
- 3. Number('') -----------------------> 0

Number([1]) ---------------------------> 1
```

### (2) String

- String() 可以将任意类型转换成 ( 字符串 )
- 参数
  - 原始类型的值
  - 引用类型的值
- 快速记忆
  - **String() -> 先 toString() -> 后 valueOf()**
  - 详细
    - 调用对象的 toString 方法
      - 如果返回 原始类型 的值，则直接调用 String 函数，不在进行后续操作
      - 如果返回 引用类型 的值，则继续往下
        - 调用对象的 valueOf 方法
          - 如果返回 原始类型 的值，则直接调用 String 函数
          - 如果返回 引用类型 的值，则报错

```
1
String() 参数是 - 原始数据类型
---

String(123) // "123"
String('abc') // "abc"
String(true) // "true"
String(undefined) // "undefined"
String(null) // "null"
```

```
1
String() 参数是 - 引用数据类型
---

String({})
1. {}.toString --------------------- 返回对象的类型字符串 '[object Object]'
2. String('[object Object]') ------ '[object Object]'
```

### (3) Boolean

- Boolean() 函数可以将任意类型的值 转换成 布尔值

```
Boolean()
---

1
只有以下几种情况的值类型的布尔值是 false
- null
- undefined
- NaN
- ''
- +0 -0 0
```

# (二) 自动转换

- 总的原则
  - 预期是 什么类型的值 就调用 该类型的函数
  - 1. 可以是字符串也可以是数值时，默认转成 数值

### (1) 自动转换成字符串

- 加法运算
  - 当 ( 字符串 ) 和 ( 非字符串 ) ( 相加 )时，会将非字符串类型的数据转成 ( 字符串 )
  - **+** 加号是会 ( 重载 ) 的
    - 一种情况是：相加
    - 一种情况是：相连
- 其他运算符
  - 都是把其他类型转成 数值
